(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{157:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(86),i=n(43),a=n(113),o=n(60),s=n.n(o),l=n(311),d=n(312),j=n(271),p=n(154),x=n(308),u=n(307),b=n(310),h=n(309),y=n(301),O=n(286),f=n(64),m=n(8),g=Object(a.b)((function(e){return e.proxysStore}),(function(e){return{getproxysData:function(t,n){return e(Object(f.d)(t,n))},addProxys:function(t){return e(Object(f.c)(t))}}}))((function(e){var t=c.useState(!1),n=Object(i.a)(t,2),a=n[0],o=n[1],f=c.useState(),g=Object(i.a)(f,2),I=g[0],k=g[1],w=[{title:"Match",dataIndex:"match",key:"match"},{title:"Action",dataIndex:"action",key:"action"},{title:"Description",dataIndex:"description",key:"description"},{title:"Enabled",key:"Enabled",render:function(e,t){return Object(m.jsx)(l.a,{defaultChecked:!1,onChange:function(e){s()({method:"put",url:"/api/v1/proxys/".concat(t.proxyId),data:{enabled:e}}).then((function(e){console.log(e)}))}})}},{title:"Opeartion",key:"description",render:function(t,n){return Object(m.jsxs)(d.b,{children:[Object(m.jsx)(j.a,{onClick:function(){k(n),o(!0)},children:"\u4fee\u6539"}),Object(m.jsx)(j.a,{danger:!0,onClick:function(){s()({method:"delete",url:"/api/v1/proxys/".concat(n.proxyId)}).then((function(t){p.b.success("\u5220\u9664\u6210\u529f\uff01"),e.getproxysData({},!0)}))},children:"\u5220\u9664"})]})}}],C=function(){o(!1),k(void 0)};return c.useEffect((function(){e.getproxysData()}),[]),Object(m.jsxs)("div",{className:"proxys",children:[Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(m.jsx)(x.a.Title,{level:4,children:"Please configure open Proxys\uff1a"}),Object(m.jsx)(j.a,{type:"primary",onClick:function(){o(!0)},children:"Create new proxy"})]}),Object(m.jsx)(u.a,{rowKey:"proxyId",dataSource:e.items||[],columns:w}),Object(m.jsx)(b.a,{destroyOnClose:!0,width:800,title:"Create new proxy",footer:!1,visible:a,onCancel:C,children:Object(m.jsxs)(h.a,{onFinish:function(t){var n=I?Object(r.a)(Object(r.a)({},t),{},{proxyId:I.proxyId}):t;e.addProxys(n).then((function(t){t.success&&(C(),e.getproxysData({},!0))}))},initialValues:Object(r.a)({action:"forword"},I),children:[Object(m.jsx)(h.a.Item,{name:"description",label:"Description",children:Object(m.jsx)(y.a,{placeholder:"optional text to describe the goal of this proxy"})}),"If request matches the following regexp",Object(m.jsx)(h.a.Item,{name:"match",rules:[{required:!0,message:"Please input Match!"}],children:Object(m.jsx)(y.a,{addonBefore:"/",addonAfter:"/"})}),"then",Object(m.jsxs)(h.a.Item,{style:{marginBottom:0},children:[Object(m.jsx)(h.a.Item,{name:"action",rules:[{required:!0}],style:{display:"inline-block",width:"180px"},children:Object(m.jsx)(O.a,{style:{width:180},children:Object(m.jsx)(O.a.Option,{value:"forword",children:"forward it to remote"})})}),Object(m.jsx)(h.a.Item,{name:"proxyUrl",rules:[{required:!0,message:"Please input proxyUrl!"}],style:{display:"inline-block",width:"calc(100% - 188px)",marginLeft:"8px"},children:Object(m.jsx)(y.a,{placeholder:"http://example.com"})})]}),Object(m.jsx)(h.a.Item,{style:{textAlign:"right"},children:Object(m.jsxs)(d.b,{children:[Object(m.jsx)(j.a,{onClick:C,children:"Cancel"}),I?Object(m.jsx)(j.a,{htmlType:"submit",type:"primary",children:"Update"}):Object(m.jsx)(j.a,{htmlType:"submit",type:"primary",children:"Create"})]})})]})})]})}));t.default=function(){return Object(m.jsx)(g,{})}}}]);
//# sourceMappingURL=3.c368e1b4.chunk.js.map